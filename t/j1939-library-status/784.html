<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>J1939 Library status? - Software - Carloop Community</title>
    <meta name="description" content="Hi All 
I’ve been trawling the internet between Particle and here for any info on a J1939 Library. I’m looking to pick up on gear position (and other details) from an aftermarket TCM which talks J1939. 
I appreciate ther&amp;hellip;">
    <meta name="generator" content="Discourse 3.3.0.beta1-dev - https://github.com/discourse/discourse version e84d462e2804bde1e49fae2c55eecd329dc73dc0">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/5d0dc9f48a4fa5171a3a95c8befa000d9f0fe88b_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/f03d9faa7e5bd5b8a589b4ee5784e6678991578a_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="784.html">

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Carloop Community Search">

    <link href="../../stylesheets/color_definitions_base__1_c9899b2a42d6bd619c29b433a9ef7a3953a01da1.css?__ws=community.carloop.io" media="all" rel="stylesheet" class="light-scheme">

  <link href="../../stylesheets/desktop_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="desktop">



  <link href="../../stylesheets/chat_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="chat">
  <link href="../../stylesheets/checklist_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="checklist">
  <link href="../../stylesheets/discourse-details_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="discourse-details">
  <link href="../../stylesheets/discourse-lazy-videos_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="discourse-lazy-videos">
  <link href="../../stylesheets/discourse-local-dates_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="discourse-local-dates">
  <link href="../../stylesheets/discourse-narrative-bot_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="discourse-narrative-bot">
  <link href="../../stylesheets/discourse-presence_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="discourse-presence">
  <link href="../../stylesheets/docker_manager_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="docker_manager">
  <link href="../../stylesheets/footnote_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="footnote">
  <link href="../../stylesheets/poll_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="poll">
  <link href="../../stylesheets/spoiler-alert_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="spoiler-alert">
  <link href="../../stylesheets/chat_desktop_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="chat_desktop">
  <link href="../../stylesheets/poll_desktop_7659a6af5bea9aaa0d00bcc5111c495874284faf.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="poll_desktop">

  <link href="../../stylesheets/desktop_theme_1_68ec8432d72346d143d3760e6bc02ea5b1bbe8ac.css?__ws=community.carloop.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="1" data-theme-name="with top headers">

    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-75724305-1" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

  <link rel="preload" href="../../assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.js" as="script" data-discourse-entrypoint="google-universal-analytics-v3" nonce="LWwEKANJlEsiL2hVXG4yvwBwb">
<script defer="" src="../../assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.js" data-discourse-entrypoint="google-universal-analytics-v3" nonce="LWwEKANJlEsiL2hVXG4yvwBwb"></script>


        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;J1939 Library status?&#39;" href="784.rss">
    <meta property="og:site_name" content="Carloop Community">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/uploads/default/original/1X/f03d9faa7e5bd5b8a589b4ee5784e6678991578a.png">
<meta property="og:image" content="/uploads/default/original/1X/f03d9faa7e5bd5b8a589b4ee5784e6678991578a.png">
<meta property="og:url" content="/t/j1939-library-status/784">
<meta name="twitter:url" content="/t/j1939-library-status/784">
<meta property="og:title" content="J1939 Library status?">
<meta name="twitter:title" content="J1939 Library status?">
<meta property="og:description" content="Hi All  I’ve been trawling the internet between Particle and here for any info on a J1939 Library. I’m looking to pick up on gear position (and other details) from an aftermarket TCM which talks J1939.  I appreciate there’s been some discussions in the past, but nothing conclusive. Is this something the Carloop libraries can do?  Thanks in advance for any pointers. This is my first foray into CAN/J1939/etc  Thomas">
<meta name="twitter:description" content="Hi All  I’ve been trawling the internet between Particle and here for any info on a J1939 Library. I’m looking to pick up on gear position (and other details) from an aftermarket TCM which talks J1939.  I appreciate there’s been some discussions in the past, but nothing conclusive. Is this something the Carloop libraries can do?  Thanks in advance for any pointers. This is my first foray into CAN/J1939/etc  Thomas">
<meta property="og:article:section" content="Software">
<meta property="og:article:section:color" content="0E76BD">
<meta property="article:published_time" content="2018-12-13T22:26:15+00:00">
<meta property="og:ignore_canonical" content="true">


    
  </head>
  <body class="crawler ">
    <div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">
  <a href="https://www.carloop.io" class="dow-menu" id="home"><span id="home-text">Home</span>
  <i class="fa fa-home" aria-hidden="true"></i></a>  
  <a href="https://carloop.readme.io/" class="dow-menu" id="docs">Documentation</a> 
</span>
</div>
    <header>
  <a href="../../index.htm">
    Carloop Community
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="784.html">J1939 Library status?</a>
    </h1>

      <div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
            <a href="../../c/software/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0E76BD'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Software</span>
              </span>
            </a>
            <meta itemprop="position" content="1">
          </span>
      </div>

  </div>

  

    <div itemscope="" itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='J1939 Library status?'>
      <link itemprop='url' href='784.html'>
      <meta itemprop='datePublished' content='2018-12-13T22:26:15Z'>
        <meta itemprop='articleSection' content='Software'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope="" itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='Carloop Community'>
          <div itemprop='logo' itemscope="" itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='/uploads/default/original/1X/1c11e9182b98c202a382d6f5862b4cc22c18a478.png'>
          </div>
      </div>


          <div id='post_1' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/UKTamo.html'><span itemprop='name'>UKTamo</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="784.html">


              <span class="crawler-post-infos">
                  <time datetime='2018-12-13T22:26:15Z' class='post-time'>
                    December 13, 2018, 10:26pm
                  </time>
                  <meta itemprop='dateModified' content='2018-12-13T22:26:15Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hi All</p>
<p>I’ve been trawling the internet between Particle and here for any info on a J1939 Library. I’m looking to pick up on gear position (and other details) from an aftermarket TCM which talks J1939.</p>
<p>I appreciate there’s been some discussions in the past, but nothing conclusive. Is this something the Carloop libraries can do?</p>
<p>Thanks in advance for any pointers. This is my first foray into CAN/J1939/etc</p>
<p>Thomas</p>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction">
              <meta itemprop="userInteractionCount" content="0">
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction">
                <meta itemprop="userInteractionCount" content="0">
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope="" itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/cyclin_al1.html'><span itemprop='name'>cyclin_al1</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-14T05:04:24Z' class='post-time'>
                    December 14, 2018,  5:04am
                  </time>
                  <meta itemprop='dateModified' content='2018-12-14T05:04:24Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><a class="mention" href="../../u/UKTamo.html">@UKTamo</a>,</p>
<p>As far as I can tell, the Carloop library should be able to help you out.<br>
Reading on Wikipedia, it looks like J1939 is built on top of CANbus.</p><aside class="onebox wikipedia" data-onebox-src="https://en.wikipedia.org/wiki/SAE_J1939">
  <header class="source">

      <a href="https://en.wikipedia.org/wiki/SAE_J1939" target="_blank" rel="noopener">en.wikipedia.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://en.wikipedia.org/wiki/SAE_J1939" target="_blank" rel="noopener">SAE J1939</a></h3>

<p>Society of Automotive Engineers standard SAE J1939 is the vehicle bus recommended practice used for communication and diagnostics among vehicle components. Originating in the car and heavy-duty truck industry in the United States, it is now widely used in other parts of the world.
 SAE J1939 is used in the commercial vehicle area for connection and communication throughout the vehicle, with the physical layer defined in ISO 11898. A different physical layer is used between the tractor and trailer...</p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>If you are using a select few messages to communicate with the TCM, you could probably assemble your own 29-bit extended CANbus message with your J1939 messages built into it.</p>
<p>Then again, if you want to do a number of things, you might be better off to build a J1939 library that depends on the Carloop library.  That way your library could translate between your J1939 messages and the 29-bit extended CANbus message. The Carloop library would then handle the lower-level for you.</p>
<p>NOTE:  The Carloop hardware is meant for 12V automotive systems.  It is not hardware compatible with 24V systems often found in trucks and heavy machinery.  If this is the case, all you would need to do is re-design the power (voltage) regulator and the electrical protection.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction">
              <meta itemprop="userInteractionCount" content="0">
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction">
                <meta itemprop="userInteractionCount" content="1">
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope="" itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/UKTamo.html'><span itemprop='name'>UKTamo</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-14T10:04:25Z' class='post-time'>
                    December 14, 2018, 10:04am
                  </time>
                  <meta itemprop='dateModified' content='2018-12-14T10:04:25Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hi <a class="mention" href="../../u/cyclin_al1.html">@cyclin_al1</a>,</p>
<p>Thanks for the response.</p>
<p>Realistically I’m only after 2 or 3 messages to be picked up. The system runs at 12v, so no worries there. If anyone has some working examples for J1939 that’d be great, otherwise I’ll need to see what I can sort!</p>
<p>Thanks</p>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction">
              <meta itemprop="userInteractionCount" content="0">
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction">
                <meta itemprop="userInteractionCount" content="1">
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope="" itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/nathanpdaniel.html'><span itemprop='name'>nathanpdaniel</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-20T19:36:05Z' class='post-time'>
                    December 20, 2018,  7:36pm
                  </time>
                  <meta itemprop='dateModified' content='2018-12-20T19:36:05Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><a class="mention" href="../../u/UKTamo.html">@UKTamo</a><br>
Have you ever heard of <a href="https://copperhilltech.com/" rel="noopener nofollow ugc">https://copperhilltech.com/</a> ??<br>
This might get you what you’re looking for.  I got the book - I’m just getting started in J1939 stuff (for an ELD device I’m building) but, Wilfred seems to be extremely knowledgable in this area. And helpful.  There are libraries, code examples and a whole lot of explanations around J1939.</p>
<p>I’d also be interested in learning more about what you’re doing and integrating J1939.</p>
<p>Nathan</p>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction">
              <meta itemprop="userInteractionCount" content="0">
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction">
                <meta itemprop="userInteractionCount" content="1">
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope="" itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/UKTamo.html'><span itemprop='name'>UKTamo</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-20T20:22:28Z' class='post-time'>
                    December 20, 2018,  8:22pm
                  </time>
                  <meta itemprop='dateModified' content='2018-12-20T20:22:28Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Yep aware of them, but as far as I know it’s arduino only, and I wasn’t sure how compatible if at all they’d be.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction">
              <meta itemprop="userInteractionCount" content="0">
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction">
                <meta itemprop="userInteractionCount" content="0">
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope="" itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/cyclin_al1.html'><span itemprop='name'>cyclin_al1</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-21T05:21:50Z' class='post-time'>
                    December 21, 2018,  5:21am
                  </time>
                  <meta itemprop='dateModified' content='2018-12-21T05:21:50Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><a class="mention" href="../../u/UKTamo.html">@UKTamo</a> &amp; <a class="mention" href="../../u/nathanpdaniel.html">@nathanpdaniel</a>,</p>
<p>I took a look at Copperhill Technologies that you referenced.<br>
It looks like there are some good examples and resources to take a look at.<br>
A couple of things to look out for:</p>
<ul>
<li>They focus on simulating the ECU (or TCM).  However, you are looking for the other side.  You are looking more for a scan tool example in order to read the data off the existing TCM.</li>
<li>They use a J1939 stack directly for Arduino, but do not reveal the source code for the stack.  I did not look far enough to see how easy it is to put together a J1939 message.  Using Particle &amp; Carloop, you would still need to put together a J1939 message, but then have to convert it into a CANbus message.  From there, the Carloop library and the STM32F processor effectively implement a CAN interface.</li>
<li>Arduino is based on the Wiring language.  Particle devices are also based on the Wiring language.  You still have to port the code to account for the hardware differences.</li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction">
              <meta itemprop="userInteractionCount" content="0">
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction">
                <meta itemprop="userInteractionCount" content="0">
              </div>

          </div>
    </div>


  




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope="" itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.htm' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope="" itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope="" itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
        <li itemscope="" itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope="" itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
